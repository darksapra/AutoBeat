<div class="song" [ngStyle]="this.visual.bkgColor()">
    <div class="image">
        <img async src={{this.apiRequester.getTrackImageURL()}}>
    </div>
    <div class="playlist">
        <p *ngIf="this.playlist == undefined, else playlistContent">You're not currently playing a Playlist</p>
    </div>
    <div class="player">
        <h1>{{this.apiRequester.currentTrack?.name}}</h1>
        <p *ngIf="this.apiRequester.currentTrack != undefined">By
            <span *ngFor="let artist of this.apiRequester.currentTrack?.artists; last as isLast">
                <span>{{artist.name}}</span>
                <span *ngIf="!isLast">, </span>
            </span>
        </p>

        <div class="progressContainer" [ngStyle]="this.visual.progressContainerSettings()">
            <div class="progress" [ngStyle]="this.visual.progressSettings()"></div>
        </div>
        <button (click)="this.addCurrentSong()" [ngStyle]="this.visual.getButtonColor()" [disabled]="this.wasAdded()">
            <mat-icon fontIcon="add_circle"></mat-icon>
        </button>
    </div>
</div>

<ng-template #playlistContent>
    <img async src="{{this.getPlaylistImage()}}">
    <div class="title">
        <p *ngIf="this.config.loadConfig().autoAdd, else playing">Adding songs to: </p>
        <h1>{{playlist?.name}}</h1>
    </div>
</ng-template>

<ng-template #playing>
    <p>Playing playlist: </p>
</ng-template>